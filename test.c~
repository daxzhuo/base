 #include <pthread.h>
#include <stdlib.h>
 #include <stdio.h>
 #define NTHREADS 4
 #define N 1000
 #define MEGEXTRA 1000000
 
 pthread_attr_t attr;
 
 void *dowork(void *threadid)
 {
    double A[N][N];
    int i,j;
    long tid;
    size_t mystacksize;

    tid = (long)threadid;
    pthread_attr_getstacksize (&attr, &mystacksize);
    printf("Thread %ld: stack size = %li bytes \n", tid, mystacksize);
    for (i=0; i<N; i++)
      for (j=0; j<N; j++)
       A[i][j] = ((i*j)/3.452) + (N-i);
    pthread_exit(NULL);
 }
 
 int main(int argc, char *argv[])
 {
   argv[1][2] = 'f';
   printf(argv[1]);
 }
